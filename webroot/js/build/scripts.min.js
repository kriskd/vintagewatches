window.Modernizr=function(a,b,c){function B(a){j.cssText=a}function D(a,b){return typeof a===b}function E(a,b){return!!~(""+a).indexOf(b)}function F(a,b){for(var d in a){var e=a[d];if(!E(e,"-")&&j[e]!==c)return"pfx"==b?e:!0}return!1}function G(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:D(f,"function")?f.bind(d||b):f}return!1}function H(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+p.join(d+" ")+d).split(" ");return D(b,"string")||D(b,"undefined")?F(e,b):(e=(a+" "+q.join(d+" ")+d).split(" "),G(e,b,c))}function I(){e.inputtypes=function(a){for(var e,f,h,d=0,i=a.length;i>d;d++)k.setAttribute("type",f=a[d]),e="text"!==k.type,e&&(k.value=l,k.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&k.style.WebkitAppearance!==c?(g.appendChild(k),h=b.defaultView,e=h.getComputedStyle&&"textfield"!==h.getComputedStyle(k,null).WebkitAppearance&&0!==k.offsetHeight,g.removeChild(k)):/^(search|tel)$/.test(f)||(e=/^(url|email)$/.test(f)?k.checkValidity&&k.checkValidity()===!1:k.value!=l)),s[a[d]]=!!e;return s}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var w,A,d="2.8.2",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k=b.createElement("input"),l=":)",n=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),o="Webkit Moz O ms",p=o.split(" "),q=o.toLowerCase().split(" "),r={},s={},u=[],v=u.slice,x=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))for(;d--;)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},y=function(){function d(d,e){e=e||b.createElement(a[d]||"div"),d="on"+d;var f=d in e;return f||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=D(e[d],"function"),D(e[d],"undefined")||(e[d]=c),e.removeAttribute(d))),e=null,f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d}(),z={}.hasOwnProperty;A=D(z,"undefined")||D(z.call,"undefined")?function(a,b){return b in a&&D(a.constructor.prototype[b],"undefined")}:function(a,b){return z.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if("function"!=typeof c)throw new TypeError;var d=v.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(v.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(v.call(arguments)))};return e}),r.flexbox=function(){return H("flexWrap")},r.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},r.canvastext=function(){return!!e.canvas&&!!D(b.createElement("canvas").getContext("2d").fillText,"function")},r.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},r.borderradius=function(){return H("borderRadius")},r.boxshadow=function(){return H("boxShadow")},r.textshadow=function(){return""===b.createElement("div").style.textShadow},r.cssanimations=function(){return H("animationName")},r.csscolumns=function(){return H("columnCount")},r.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return B((a+"-webkit- ".split(" ").join(b+a)+n.join(c+a)).slice(0,-a.length)),E(j.backgroundImage,"gradient")},r.fontface=function(){var a;return x('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&0===g.indexOf(d.split(" ")[0])}),a};for(var J in r)A(r,J)&&(w=J.toLowerCase(),e[w]=r[J](),u.push((e[w]?"":"no-")+w));return e.input||I(),e.addTest=function(a,b){if("object"==typeof a)for(var d in a)A(a,d)&&e.addTest(d,a[d]);else{if(a=a.toLowerCase(),e[a]!==c)return e;b="function"==typeof b?b():b,"undefined"!=typeof f&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},B(""),i=k=null,function(a,b){function l(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function m(){var a=s.elements;return"string"==typeof a?a.split(" "):a}function n(a){var b=j[a[h]];return b||(b={},i++,a[h]=i,j[i]=b),b}function o(a,c,d){if(c||(c=b),k)return c.createElement(a);d||(d=n(c));var g;return g=d.cache[a]?d.cache[a].cloneNode():f.test(a)?(d.cache[a]=d.createElem(a)).cloneNode():d.createElem(a),!g.canHaveChildren||e.test(a)||g.tagUrn?g:d.frag.appendChild(g)}function p(a,c){if(a||(a=b),k)return a.createDocumentFragment();c=c||n(a);for(var d=c.frag.cloneNode(),e=0,f=m(),g=f.length;g>e;e++)d.createElement(f[e]);return d}function q(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?o(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+m().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function r(a){a||(a=b);var c=n(a);return s.shivCSS&&!g&&!c.hasCSS&&(c.hasCSS=!!l(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||q(a,c),a}var g,k,c="3.7.0",d=a.html5||{},e=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h="_html5shiv",i=0,j={};!function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",g="hidden"in a,k=1==a.childNodes.length||function(){b.createElement("a");var a=b.createDocumentFragment();return"undefined"==typeof a.cloneNode||"undefined"==typeof a.createDocumentFragment||"undefined"==typeof a.createElement}()}catch(c){g=!0,k=!0}}();var s={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:c,shivCSS:d.shivCSS!==!1,supportsUnknownElements:k,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:r,createElement:o,createDocumentFragment:p};a.html5=s,r(b)}(this,b),e._version=d,e._prefixes=n,e._domPrefixes=q,e._cssomPrefixes=p,e.hasEvent=y,e.testProp=function(a){return F([a])},e.testAllProps=H,e.testStyles=x,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+u.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var A,B,l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}};B=function(a){function b(a){var e,f,g,a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a};for(f=0;d>f;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;b>f;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var c,b=0;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var m,n,h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var l,o,k=b.createElement("script"),e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var j,e=b.createElement("link"),c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},+function($){"use strict";function transitionEnd(){var el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames)if(void 0!==el.style[name])return{end:transEndEventNames[name]}}$.fn.emulateTransitionEnd=function(duration){var called=!1,$el=this;$(this).one($.support.transition.end,function(){called=!0});var callback=function(){called||$($el).trigger($.support.transition.end)};return setTimeout(callback,duration),this},$(function(){$.support.transition=transitionEnd()})}(jQuery),+function($){"use strict";var Carousel=function(element,options){this.$element=$(element),this.$indicators=this.$element.find(".carousel-indicators"),this.options=options,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",$.proxy(this.pause,this)).on("mouseleave",$.proxy(this.cycle,this))};Carousel.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},Carousel.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval)),this},Carousel.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},Carousel.prototype.to=function(pos){var that=this,activeIndex=this.getActiveIndex();return pos>this.$items.length-1||0>pos?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){that.to(pos)}):activeIndex==pos?this.pause().cycle():this.slide(pos>activeIndex?"next":"prev",$(this.$items[pos]))},Carousel.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&$.support.transition.end&&(this.$element.trigger($.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},Carousel.prototype.next=function(){return this.sliding?void 0:this.slide("next")},Carousel.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},Carousel.prototype.slide=function(type,next){var $active=this.$element.find(".item.active"),$next=next||$active[type](),isCycling=this.interval,direction="next"==type?"left":"right",fallback="next"==type?"first":"last",that=this;if(!$next.length){if(!this.options.wrap)return;$next=this.$element.find(".item")[fallback]()}this.sliding=!0,isCycling&&this.pause();var e=$.Event("slide.bs.carousel",{relatedTarget:$next[0],direction:direction});if(!$next.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var $nextIndicator=$(that.$indicators.children()[that.getActiveIndex()]);$nextIndicator&&$nextIndicator.addClass("active")})),$.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(e),e.isDefaultPrevented())return;$next.addClass(type),$next[0].offsetWidth,$active.addClass(direction),$next.addClass(direction),$active.one($.support.transition.end,function(){$next.removeClass([type,direction].join(" ")).addClass("active"),$active.removeClass(["active",direction].join(" ")),that.sliding=!1,setTimeout(function(){that.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(e),e.isDefaultPrevented())return;$active.removeClass("active"),$next.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")}return isCycling&&this.cycle(),this}};var old=$.fn.carousel;$.fn.carousel=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.carousel"),options=$.extend({},Carousel.DEFAULTS,$this.data(),"object"==typeof option&&option),action="string"==typeof option?option:options.slide;data||$this.data("bs.carousel",data=new Carousel(this,options)),"number"==typeof option?data.to(option):action?data[action]():options.interval&&data.pause().cycle()})},$.fn.carousel.Constructor=Carousel,$.fn.carousel.noConflict=function(){return $.fn.carousel=old,this},$(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var href,$this=$(this),$target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"")),options=$.extend({},$target.data(),$this.data()),slideIndex=$this.attr("data-slide-to");slideIndex&&(options.interval=!1),$target.carousel(options),(slideIndex=$this.attr("data-slide-to"))&&$target.data("bs.carousel").to(slideIndex),e.preventDefault()}),$(window).on("load",function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this);$carousel.carousel($carousel.data())})})}(jQuery),+function($){"use strict";function clearMenus(){$(backdrop).remove(),$(toggle).each(function(e){var $parent=getParent($(this));$parent.hasClass("open")&&($parent.trigger(e=$.Event("hide.bs.dropdown")),e.isDefaultPrevented()||$parent.removeClass("open").trigger("hidden.bs.dropdown"))})}function getParent($this){var selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&/#/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=selector&&$(selector);return $parent&&$parent.length?$parent:$this.parent()}var backdrop=".dropdown-backdrop",toggle="[data-toggle=dropdown]",Dropdown=function(element){$(element).on("click.bs.dropdown",this.toggle)};Dropdown.prototype.toggle=function(e){var $this=$(this);if(!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(clearMenus(),!isActive){if("ontouchstart"in document.documentElement&&!$parent.closest(".navbar-nav").length&&$('<div class="dropdown-backdrop"/>').insertAfter($(this)).on("click",clearMenus),$parent.trigger(e=$.Event("show.bs.dropdown")),e.isDefaultPrevented())return;$parent.toggleClass("open").trigger("shown.bs.dropdown"),$this.focus()}return!1}},Dropdown.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var $this=$(this);if(e.preventDefault(),e.stopPropagation(),!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(!isActive||isActive&&27==e.keyCode)return 27==e.which&&$parent.find(toggle).focus(),$this.click();var $items=$("[role=menu] li:not(.divider):visible a",$parent);if($items.length){var index=$items.index($items.filter(":focus"));38==e.keyCode&&index>0&&index--,40==e.keyCode&&index<$items.length-1&&index++,~index||(index=0),$items.eq(index).focus()}}}};var old=$.fn.dropdown;$.fn.dropdown=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.dropdown");data||$this.data("bs.dropdown",data=new Dropdown(this)),"string"==typeof option&&data[option].call($this)})},$.fn.dropdown.Constructor=Dropdown,$.fn.dropdown.noConflict=function(){return $.fn.dropdown=old,this},$(document).on("click.bs.dropdown.data-api",clearMenus).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",toggle,Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api",toggle+", [role=menu]",Dropdown.prototype.keydown)}(jQuery),+function($){"use strict";var Modal=function(element,options){this.options=options,this.$element=$(element),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};Modal.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},Modal.prototype.toggle=function(_relatedTarget){return this[this.isShown?"hide":"show"](_relatedTarget)},Modal.prototype.show=function(_relatedTarget){var that=this,e=$.Event("show.bs.modal",{relatedTarget:_relatedTarget});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this)),this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");that.$element.parent().length||that.$element.appendTo(document.body),that.$element.show(),transition&&that.$element[0].offsetWidth,that.$element.addClass("in").attr("aria-hidden",!1),that.enforceFocus();var e=$.Event("shown.bs.modal",{relatedTarget:_relatedTarget});transition?that.$element.find(".modal-dialog").one($.support.transition.end,function(){that.$element.focus().trigger(e)}).emulateTransitionEnd(300):that.$element.focus().trigger(e)}))},Modal.prototype.hide=function(e){e&&e.preventDefault(),e=$.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),$(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),$.support.transition&&this.$element.hasClass("fade")?this.$element.one($.support.transition.end,$.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()},this))},Modal.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",$.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},Modal.prototype.hideModal=function(){var that=this;this.$element.hide(),this.backdrop(function(){that.removeBackdrop(),that.$element.trigger("hidden.bs.modal")})},Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},Modal.prototype.backdrop=function(callback){var animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;if(this.$backdrop=$('<div class="modal-backdrop '+animate+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",$.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),doAnimate&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!callback)return;doAnimate?this.$backdrop.one($.support.transition.end,callback).emulateTransitionEnd(150):callback()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one($.support.transition.end,callback).emulateTransitionEnd(150):callback()):callback&&callback()};var old=$.fn.modal;$.fn.modal=function(option,_relatedTarget){return this.each(function(){var $this=$(this),data=$this.data("bs.modal"),options=$.extend({},Modal.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("bs.modal",data=new Modal(this,options)),"string"==typeof option?data[option](_relatedTarget):options.show&&data.show(_relatedTarget)})},$.fn.modal.Constructor=Modal,$.fn.modal.noConflict=function(){return $.fn.modal=old,this},$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this),href=$this.attr("href"),$target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,"")),option=$target.data("modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());e.preventDefault(),$target.modal(option,this).one("hide",function(){$this.is(":visible")&&$this.focus()})}),$(document).on("show.bs.modal",".modal",function(){$(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){$(document.body).removeClass("modal-open")})}(jQuery),+function($){"use strict";var Tooltip=function(element,options){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",element,options)};Tooltip.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},Tooltip.prototype.init=function(type,element,options){this.enabled=!0,this.type=type,this.$element=$(element),this.options=this.getOptions(options);for(var triggers=this.options.trigger.split(" "),i=triggers.length;i--;){var trigger=triggers[i];if("click"==trigger)this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this));else if("manual"!=trigger){var eventIn="hover"==trigger?"mouseenter":"focus",eventOut="hover"==trigger?"mouseleave":"blur";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this)),this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS},Tooltip.prototype.getOptions=function(options){return options=$.extend({},this.getDefaults(),this.$element.data(),options),options.delay&&"number"==typeof options.delay&&(options.delay={show:options.delay,hide:options.delay}),options},Tooltip.prototype.getDelegateOptions=function(){var options={},defaults=this.getDefaults();return this._options&&$.each(this._options,function(key,value){defaults[key]!=value&&(options[key]=value)}),options},Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(self.timeout),self.hoverState="in",self.options.delay&&self.options.delay.show?(self.timeout=setTimeout(function(){"in"==self.hoverState&&self.show()},self.options.delay.show),void 0):self.show()},Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(self.timeout),self.hoverState="out",self.options.delay&&self.options.delay.hide?(self.timeout=setTimeout(function(){"out"==self.hoverState&&self.hide()},self.options.delay.hide),void 0):self.hide()},Tooltip.prototype.show=function(){var e=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var $tip=this.tip();this.setContent(),this.options.animation&&$tip.addClass("fade");var placement="function"==typeof this.options.placement?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement,autoToken=/\s?auto?\s?/i,autoPlace=autoToken.test(placement);autoPlace&&(placement=placement.replace(autoToken,"")||"top"),$tip.detach().css({top:0,left:0,display:"block"}).addClass(placement),this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element);var pos=this.getPosition(),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;if(autoPlace){var $parent=this.$element.parent(),orgPlacement=placement,docScroll=document.documentElement.scrollTop||document.body.scrollTop,parentWidth="body"==this.options.container?window.innerWidth:$parent.outerWidth(),parentHeight="body"==this.options.container?window.innerHeight:$parent.outerHeight(),parentLeft="body"==this.options.container?0:$parent.offset().left;placement="bottom"==placement&&pos.top+pos.height+actualHeight-docScroll>parentHeight?"top":"top"==placement&&pos.top-docScroll-actualHeight<0?"bottom":"right"==placement&&pos.right+actualWidth>parentWidth?"left":"left"==placement&&pos.left-actualWidth<parentLeft?"right":placement,$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement),this.$element.trigger("shown.bs."+this.type)}},Tooltip.prototype.applyPlacement=function(offset,placement){var replace,$tip=this.tip(),width=$tip[0].offsetWidth,height=$tip[0].offsetHeight,marginTop=parseInt($tip.css("margin-top"),10),marginLeft=parseInt($tip.css("margin-left"),10);isNaN(marginTop)&&(marginTop=0),isNaN(marginLeft)&&(marginLeft=0),offset.top=offset.top+marginTop,offset.left=offset.left+marginLeft,$tip.offset(offset).addClass("in");var actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;if("top"==placement&&actualHeight!=height&&(replace=!0,offset.top=offset.top+height-actualHeight),/bottom|top/.test(placement)){var delta=0;offset.left<0&&(delta=-2*offset.left,offset.left=0,$tip.offset(offset),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight),this.replaceArrow(delta-width+actualWidth,actualWidth,"left")}else this.replaceArrow(actualHeight-height,actualHeight,"top");replace&&$tip.offset(offset)},Tooltip.prototype.replaceArrow=function(delta,dimension,position){this.arrow().css(position,delta?50*(1-delta/dimension)+"%":"")},Tooltip.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title),$tip.removeClass("fade in top bottom left right")},Tooltip.prototype.hide=function(){function complete(){"in"!=that.hoverState&&$tip.detach()}var that=this,$tip=this.tip(),e=$.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:($tip.removeClass("in"),$.support.transition&&this.$tip.hasClass("fade")?$tip.one($.support.transition.end,complete).emulateTransitionEnd(150):complete(),this.$element.trigger("hidden.bs."+this.type),this)},Tooltip.prototype.fixTitle=function(){var $e=this.$element;($e.attr("title")||"string"!=typeof $e.attr("data-original-title"))&&$e.attr("data-original-title",$e.attr("title")||"").attr("title","")},Tooltip.prototype.hasContent=function(){return this.getTitle()},Tooltip.prototype.getPosition=function(){var el=this.$element[0];return $.extend({},"function"==typeof el.getBoundingClientRect?el.getBoundingClientRect():{width:el.offsetWidth,height:el.offsetHeight},this.$element.offset())},Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return"bottom"==placement?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:"top"==placement?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:"left"==placement?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}},Tooltip.prototype.getTitle=function(){var title,$e=this.$element,o=this.options;return title=$e.attr("data-original-title")||("function"==typeof o.title?o.title.call($e[0]):o.title)},Tooltip.prototype.tip=function(){return this.$tip=this.$tip||$(this.options.template)},Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},Tooltip.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},Tooltip.prototype.enable=function(){this.enabled=!0},Tooltip.prototype.disable=function(){this.enabled=!1},Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled},Tooltip.prototype.toggle=function(e){var self=e?$(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;self.tip().hasClass("in")?self.leave(self):self.enter(self)},Tooltip.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var old=$.fn.tooltip;$.fn.tooltip=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tooltip"),options="object"==typeof option&&option;data||$this.data("bs.tooltip",data=new Tooltip(this,options)),"string"==typeof option&&data[option]()})},$.fn.tooltip.Constructor=Tooltip,$.fn.tooltip.noConflict=function(){return $.fn.tooltip=old,this}}(jQuery),+function($){"use strict";var Collapse=function(element,options){this.$element=$(element),this.options=$.extend({},Collapse.DEFAULTS,options),this.transitioning=null,this.options.parent&&(this.$parent=$(this.options.parent)),this.options.toggle&&this.toggle()};Collapse.DEFAULTS={toggle:!0},Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"},Collapse.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var startEvent=$.Event("show.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){var actives=this.$parent&&this.$parent.find("> .panel > .in");if(actives&&actives.length){var hasData=actives.data("bs.collapse");if(hasData&&hasData.transitioning)return;actives.collapse("hide"),hasData||actives.data("bs.collapse",null)}var dimension=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[dimension](0),this.transitioning=1;var complete=function(){this.$element.removeClass("collapsing").addClass("in")[dimension]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!$.support.transition)return complete.call(this);var scrollSize=$.camelCase(["scroll",dimension].join("-"));this.$element.one($.support.transition.end,$.proxy(complete,this)).emulateTransitionEnd(350)[dimension](this.$element[0][scrollSize])}}},Collapse.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var startEvent=$.Event("hide.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){var dimension=this.dimension();
this.$element[dimension](this.$element[dimension]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var complete=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return $.support.transition?(this.$element[dimension](0).one($.support.transition.end,$.proxy(complete,this)).emulateTransitionEnd(350),void 0):complete.call(this)}}},Collapse.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var old=$.fn.collapse;$.fn.collapse=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.collapse"),options=$.extend({},Collapse.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("bs.collapse",data=new Collapse(this,options)),"string"==typeof option&&data[option]()})},$.fn.collapse.Constructor=Collapse,$.fn.collapse.noConflict=function(){return $.fn.collapse=old,this},$(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var href,$this=$(this),target=$this.attr("data-target")||e.preventDefault()||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""),$target=$(target),data=$target.data("bs.collapse"),option=data?"toggle":$this.data(),parent=$this.attr("data-parent"),$parent=parent&&$(parent);data&&data.transitioning||($parent&&$parent.find('[data-toggle=collapse][data-parent="'+parent+'"]').not($this).addClass("collapsed"),$this[$target.hasClass("in")?"addClass":"removeClass"]("collapsed")),$target.collapse(option)})}(jQuery),function(){!function($){return $.fn.bootstrapSwitch=function(method){var methods;return methods={init:function(){return this.each(function(){var $div,$element,$form,$label,$switchLeft,$switchRight,$wrapper,changeState;return $element=$(this),$switchLeft=$("<span>",{"class":"switch-left",html:function(){var html,label;return html="ON",label=$element.data("on-label"),null!=label&&(html=label),html}}),$switchRight=$("<span>",{"class":"switch-right",html:function(){var html,label;return html="OFF",label=$element.data("off-label"),null!=label&&(html=label),html}}),$label=$("<label>",{"for":$element.attr("id"),html:function(){var html,icon,label;return html="&nbsp;",icon=$element.data("label-icon"),label=$element.data("text-label"),null!=icon&&(html='<i class="icon '+icon+'"></i>'),null!=label&&(html=label),html}}),$div=$("<div>"),$wrapper=$("<div>",{"class":"has-switch",tabindex:0}),$form=$element.closest("form"),changeState=function(){return $label.hasClass("label-change-switch")?void 0:$label.trigger("mousedown").trigger("mouseup").trigger("click")},$element.data("bootstrap-switch",!0),$element.attr("class")&&$.each(["switch-mini","switch-small","switch-large"],function(i,cls){return $element.attr("class").indexOf(cls)>=0?($switchLeft.addClass(cls),$label.addClass(cls),$switchRight.addClass(cls)):void 0}),null!=$element.data("on")&&$switchLeft.addClass("switch-"+$element.data("on")),null!=$element.data("off")&&$switchRight.addClass("switch-"+$element.data("off")),$div.data("animated",!1),$element.data("animated")!==!1&&$div.addClass("switch-animate").data("animated",!0),$div=$element.wrap($div).parent(),$wrapper=$div.wrap($wrapper).parent(),$element.before($switchLeft).before($label).before($switchRight),$div.addClass($element.is(":checked")?"switch-on":"switch-off"),($element.is(":disabled")||$element.is("[readonly]"))&&$wrapper.addClass("disabled"),$element.on("keydown",function(e){return 32===e.keyCode?(e.stopImmediatePropagation(),e.preventDefault(),changeState()):void 0}).on("change",function(e,skip){var isChecked,state;return isChecked=$element.is(":checked"),state=$div.hasClass("switch-off"),e.preventDefault(),$div.css("left",""),state!==isChecked||(isChecked?$div.removeClass("switch-off").addClass("switch-on"):$div.removeClass("switch-on").addClass("switch-off"),$div.data("animated")!==!1&&$div.addClass("switch-animate"),"boolean"==typeof skip&&skip)?void 0:$element.trigger("switch-change",{el:$element,value:isChecked})}),$wrapper.on("keydown",function(e){if(e.which&&!$element.is(":disabled")&&!$element.is("[readonly]"))switch(e.which){case 32:return e.preventDefault(),changeState();case 37:if(e.preventDefault(),$element.is(":checked"))return changeState();break;case 39:if(e.preventDefault(),!$element.is(":checked"))return changeState()}}),$switchLeft.on("click",function(){return changeState()}),$switchRight.on("click",function(){return changeState()}),$label.on("mousedown touchstart",function(e){var moving;return moving=!1,e.preventDefault(),e.stopImmediatePropagation(),$div.removeClass("switch-animate"),$element.is(":disabled")||$element.is("[readonly]")||$element.hasClass("radio-no-uncheck")?$label.unbind("click"):$label.on("mousemove touchmove",function(e){var left,percent,relativeX,right;return relativeX=(e.pageX||e.originalEvent.targetTouches[0].pageX)-$wrapper.offset().left,percent=relativeX/$wrapper.width()*100,left=25,right=75,moving=!0,left>percent?percent=left:percent>right&&(percent=right),$div.css("left",percent-right+"%")}).on("click touchend",function(e){return e.stopImmediatePropagation(),e.preventDefault(),$label.unbind("mouseleave"),moving?$element.prop("checked",parseInt($label.parent().css("left"),10)>-25):$element.prop("checked",!$element.is(":checked")),moving=!1,$element.trigger("change")}).on("mouseleave",function(e){return e.preventDefault(),e.stopImmediatePropagation(),$label.unbind("mouseleave mousemove").trigger("mouseup"),$element.prop("checked",parseInt($label.parent().css("left"),10)>-25).trigger("change")}).on("mouseup",function(e){return e.stopImmediatePropagation(),e.preventDefault(),$label.trigger("mouseleave")})}),$form.data("bootstrap-switch")?void 0:$form.bind("reset",function(){return window.setTimeout(function(){return $form.find(".has-switch").each(function(){var $input;return $input=$(this).find("input"),$input.prop("checked",$input.is(":checked")).trigger("change")})},1)}).data("bootstrap-switch",!0)})},setDisabled:function(disabled){var $element,$wrapper;return $element=$(this),$wrapper=$element.parents(".has-switch"),disabled?($wrapper.addClass("disabled"),$element.prop("disabled",!0)):($wrapper.removeClass("disabled"),$element.prop("disabled",!1)),$element},toggleDisabled:function(){var $element;return $element=$(this),$element.prop("disabled",!$element.is(":disabled")).parents(".has-switch").toggleClass("disabled"),$element},isDisabled:function(){return $(this).is(":disabled")},setReadOnly:function(readonly){var $element,$wrapper;return $element=$(this),$wrapper=$element.parents(".has-switch"),readonly?($wrapper.addClass("disabled"),$element.prop("readonly",!0)):($wrapper.removeClass("disabled"),$element.prop("readonly",!1)),$element},toggleReadOnly:function(){var $element;return $element=$(this),$element.prop("readonly",!$element.is("[readonly]")).parents(".has-switch").toggleClass("disabled"),$element},isReadOnly:function(){return $(this).is("[readonly]")},toggleState:function(skip){var $element;return $element=$(this),$element.prop("checked",!$element.is(":checked")).trigger("change",skip),$element},toggleRadioState:function(skip){var $element;return $element=$(this),$element.not(":checked").prop("checked",!$element.is(":checked")).trigger("change",skip),$element},toggleRadioStateAllowUncheck:function(uncheck,skip){var $element;return $element=$(this),uncheck?$element.not(":checked").trigger("change",skip):$element.not(":checked").prop("checked",!$element.is(":checked")).trigger("change",skip),$element},setState:function(value,skip){var $element;return $element=$(this),$element.prop("checked",value).trigger("change",skip),$element},setOnLabel:function(value){var $element;return $element=$(this),$element.siblings(".switch-left").html(value),$element},setOffLabel:function(value){var $element;return $element=$(this),$element.siblings(".switch-right").html(value),$element},setOnClass:function(value){var $element,$switchLeft,cls;return $element=$(this),$switchLeft=$element.siblings(".switch-left"),cls=$element.attr("data-on"),null!=value?(null!=cls&&$switchLeft.removeClass("switch-"+cls),$switchLeft.addClass("switch-"+value),$element):void 0},setOffClass:function(value){var $element,$switchRight,cls;return $element=$(this),$switchRight=$element.siblings(".switch-right"),cls=$element.attr("data-off"),null!=value?(null!=cls&&$switchRight.removeClass("switch-"+cls),$switchRight.addClass("switch-"+value),$element):void 0},setAnimated:function(value){var $div,$element;return $element=$(this),$div=$element.parent(),null==value&&(value=!1),$div.data("animated",value).attr("data-animated",value)[$div.data("animated")!==!1?"addClass":"removeClass"]("switch-animate"),$element},setSizeClass:function(value){var $element,$label,$switchLeft,$switchRight;return $element=$(this),$switchLeft=$element.siblings(".switch-left"),$label=$element.siblings("label"),$switchRight=$element.siblings(".switch-right"),$.each(["switch-mini","switch-small","switch-large"],function(i,cls){return cls!==value?($switchLeft.removeClass(cls),$label.removeClass(cls),$switchRight.removeClass(cls)):($switchLeft.addClass(cls),$label.addClass(cls),$switchRight.addClass(cls))}),$element},setTextLabel:function(value){var $element;return $element=$(this),$element.siblings("label").html(value||"&nbsp"),$element},setTextIcon:function(value){var $element;return $element=$(this),$element.siblings("label").html(value?'<i class="icon '+value+'"></i>':"&nbsp;"),$element},state:function(){return $(this).is(":checked")},destroy:function(){var $div,$element,$form;return $element=$(this),$div=$element.parent(),$form=$div.closest("form"),$div.children().not($element).remove(),$element.unwrap().unwrap().unbind("change"),$form.length&&$form.unbind("reset").removeData("bootstrapSwitch"),$element}},methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?$.error("Method "+method+" does not exist!"):methods.init.apply(this,arguments)},this}(jQuery)}.call(this),$(document).ready(function(){function orderAdmin(filterValue){""==filterValue?$('.admin-index .input input:not("#WatchActive")').val("").prop("disabled",!0):$('.admin-index .input input:not("#WatchActive")').prop("disabled",!1)}function setHomeCarouselImageHeight(){var height=$("#carousel-home .carousel-inner img").height();0==height&&(height=375),$("#carousel-home .carousel-indicators").css("top",height-25),$("#carousel-home .carousel-control .glyphicon").css("top",height-25)}function computeTotal(country){$.ajax({url:"/orders/totalCart.json",data:{country:country},dataType:"json",cache:!1,success:function(data){var shipping=data.shipping,totalFormatted=data.totalFormatted;$(".shipping-amount").empty().append(shipping).find(".launch-tooltip").tooltip(),$(".total-formatted-amount").empty().append(totalFormatted),$(".shipping-inner").show()}})}function getAddressForm(country,shippingOption){$.ajax({url:"/orders/getAddress.html",data:{country:country,shipping:shippingOption},dataType:"html",cache:!1,success:function(data){if($(".address-forms").empty().append(data),$(".shipping-instructions").show(),$(".address textarea").show(),$(".address-forms .input.required label").append(' <span class="required">*</span>'),$(".address-forms").find(".launch-tooltip").tooltip(),""!=$("#AddressBillingCountry").val()){var countryName=$("#AddressBillingCountryName").val();$(".billing-country-name").empty().append(countryName)}$("select.us-ca").each(function(){getCountry($(this))}),$(".address-forms .required label").append(' <span class="required">*</span>')}})}function getCountry(value){$.ajax({url:"/orders/getCountry.json",data:value,dataType:"json",cache:!1,success:function(data){var country=data.country,type=data.type;$("#Address"+type+"Country").val(country)}})}function reportError(msg){return $(".payment-errors").show().text(msg).addClass("error"),$(".submit-payment").prop("disabled",!1),!1}function setCookie(cookieName,value,exdays){var exdate=new Date;exdate.setDate(exdate.getDate()+exdays);var cookieValue=escape(value)+(null==exdays?"":"; expires="+exdate.toUTCString());document.cookie=cookieName+"="+cookieValue}function getCookie(cookieName){var cookieValue=document.cookie,cookieStart=cookieValue.indexOf(" "+cookieName+"=");if(-1==cookieStart&&(cookieStart=cookieValue.indexOf(cookieName+"=")),-1==cookieStart)cookieValue=null;else{cookieStart=cookieValue.indexOf("=",cookieStart)+1;var cookieEnd=cookieValue.indexOf(";",cookieStart);-1==cookieEnd&&(cookieEnd=cookieValue.length),cookieValue=unescape(cookieValue.substring(cookieStart,cookieEnd))}return cookieValue}$(".launch-tooltip").tooltip(),$(".carousel").carousel({pause:"hover"}),$(".required label").append(' <span class="required">*</span>'),$(document).on("click",".fake-upload",function(){$(".image-upload").click()}),$("#OrderShipDate, #InvoiceShipDate, #InvoiceExpiration").datepicker({dateFormat:"yy-mm-dd"}),orderAdmin($(".admin-index select").val()),$(document).on("change",".admin-index select",function(){orderAdmin($(this).val())}),$(document).on("click",".admin-index #WatchActive",function(){var value;value=$(this).is(":checked")?1:0;var watchid=$(this).data("watchid");$.ajax({url:"/watches/active",data:{active:value,watchid:watchid},type:"post"})}),setHomeCarouselImageHeight(),$(window).on("resize",function(){setHomeCarouselImageHeight()});var hideWatchIntroCookie=getCookie("hideWatchIntro");if(null!=hideWatchIntroCookie&&1==hideWatchIntroCookie&&($(".watch-index-intro").hide(),$(".watches-header .glyphicon-eye-open").show()),$(document).on("click",".watch-index-intro .glyphicon-remove",function(){$(".watch-index-intro").hide(),$(".watches-header .glyphicon-eye-open").show(),setCookie("hideWatchIntro",1,90)}),$(document).on("click",".watches-header .glyphicon-eye-open",function(){$(".watch-index-intro").show(),$(".watches-header .glyphicon-eye-open").hide(),setCookie("hideWatchIntro",0,90)}),$(document).on("change","#WatchAdminIndexForm",function(){$(this).submit()}),$(document).on("click",".announcement-list-signup input[type=submit]",function(e){var val=$("input[name=email]").val();""==val&&($(".announcement-list-signup .announce-error").show(),e.preventDefault())}),$(document).on("change",".orders #Address0Country, .orders #Address1Country",function(){var id=$(this).attr("id"),addressId=id.match(/\d/),country=$(this).val();console.log(id+" "+addressId+" "+country),"US"!=country&&"CA"!=country?$("#Address"+addressId+"State").removeAttr("required").parent(".input").hide():$("#Address"+addressId+"State").attr("required","required").parent(".input").show()}),$(".select-country input:radio").is(":checked")){var country=$(".select-country input:radio:checked").val();computeTotal(country),$(".shipping").removeClass("hide").addClass("show")}if($(".select-country input").change(function(){$(".shipping .radio input").prop("checked",!1),$(".address-forms").empty(),$(".shipping-instructions").hide(),$(".submit-payment").attr("disabled","disabled");var country=$(this).val();computeTotal(country),$(".shipping").removeClass("hide").addClass("show"),$(".address").removeClass("show").addClass("hide"),$(".credit-card-order").removeClass("show").addClass("hide")}),$(".shipping .radio input").change(function(){$(".submit-payment").prop("disabled",!1);var country=$(".select-country input:radio:checked").val(),shippingOption=$(this).val();getAddressForm(country,shippingOption),$(".address").removeClass("hide").addClass("show"),$(".credit-card-order").removeClass("hide").addClass("show")}),$(".shipping .radio input").length>1)if($(".shipping .radio input").is(":checked")){$(".submit-payment").prop("disabled",!1);var country=$(".select-country input:radio:checked").val(),shippingOption=$(".shipping .radio input:radio:checked").val();getAddressForm(country,shippingOption),$(".address").removeClass("hide").addClass("show"),$(".credit-card-order").removeClass("hide").addClass("show")}else $(".shipping-instructions").hide(),$(".submit-payment").attr("disabled","disabled"),$(".address").removeClass("show").addClass("hide"),$(".credit-card-order").removeClass("show").addClass("hide");$(document).on("keyup","#AddressBillingCountryName",function(){$("#AddressBillingCountryName").autocomplete({source:"/orders/checkout.json",minLength:3,select:function(event,ui){$(this).val(ui.item.value),$(".billing-country-name").empty().append(ui.item.value),$("#AddressBillingCountry").attr("value",ui.item.id),$("#AddressShippingCountry").attr("value",ui.item.id)}})}),$(document).on("click","#AddressShipping-address",function(){$(".address-form-shipping").toggle(this.checked)}),$(document).on("change",".us-ca",function(){getCountry($(this))}),$(".table a.table-row").hover(function(){$(this).addClass("row-hover")},function(){$(this).removeClass("row-hover")}),$(document).on("click",".invoices .add-line-item",function(){var count=$(".line-item").length;return $.ajax({url:"/invoices/getLineItem/"+count,dataType:"html",cache:!1,success:function(data){$(".invoices .line-items").append(data).find(".launch-tooltip").tooltip(),$(".invoices .input.required label").each(function(){$(this).find("span").remove(),$(this).append(' <span class="required">*</span>')})}}),!1}),$(document).on("click",".remove-line-item",function(){var count=$(this).parent().data("count");if("undefined"!=typeof count){var description=$(this).parent().data("description"),invoice_id=$(this).parent().data("invoice_id"),item_id=$(this).parent().data("item_id");$.ajax({url:"/invoices/deleteModal",dataType:"html",data:{description:description,invoice_id:invoice_id,item_id:item_id},type:"post",cache:!1,success:function(data){$("body").append(data),$("#delete-line-item").modal()}})}else $(this).parents(".line-item").remove();return!1}),$(document).on("click",".invoice-url",function(){$(this).focus().select()}),$(document).on("click",".create-ebay-invoice",function(){var ebayId=$(this).data("ebayid");return $("#InvoiceEbayItemId").val(ebayId),$("form").get(0).submit(),!1}),$(document).on("click",".goto-order",function(){var orderId=$(this).data("orderid");return $("#OrderOrderId").val(orderId),$("#OrderAdminIndexForm").get(0).submit(),!1}),$(document).on("click",".delete-contact",function(){var contactId=$(this).data("contactid"),contactName=$(this).data("contactname"),query=$(this).data("query");return $.ajax({url:"/contacts/deleteModal",dataType:"html",data:{contactId:contactId,contactName:contactName,query:query},type:"post",cache:!1,success:function(data){$("body").append(data),$("#delete-contact").modal()}}),!1}),$(document).on("click",".fake-contact-submit",function(){$(this).prop("disabled",!0),$("form").get(0).submit()}),$(".payment-form").submit(function(){$(".submit-payment").attr("disabled","disabled");var form=$(this),error=!1,ccNum=$(".card-number").val(),cvcNum=$(".card-cvc").val(),expMonth=$(".card-expiry-month").val(),expYear=$(".card-expiry-year").val();return Stripe.validateCardNumber(ccNum)||(error=!0,reportError("The credit card number appears to be invalid.")),Stripe.validateCVC(cvcNum)||(error=!0,reportError("The CVC number appears to be invalid.")),Stripe.validateExpiry(expMonth,expYear)||(error=!0,reportError("The expiration date appears to be invalid.")),error||Stripe.createToken(form,function(status,response){var token=response.id;form.append($('<input type="hidden" name="stripeToken" />').val(token)),form.get(0).submit()}),!1})});